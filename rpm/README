Prequisites
===========

Before you start, make sure you have these:
- *a bit* of git knowledge ;)
- a functional installation of git and rpmbuild
- a clone of lisa git tree
- err... emm... gcc, make and other common sense developer tools :)

Building Fedora *Kernel* rpm packages
=====================================

1. Prepare build directory structure:
- create appropriate directory in $HOME (e.g. ~/rpmb/kernel-<version>)
- cwd to that directory and run included mkrpmbtree.sh (root of lisa
  tree)
- locally configure rpm by editing ~/.rpmmacros and making it look like:

======== ~/.rpmmacros ========
%_topdir	/home/<user>/rpmb/kernel-<version>
%_tmppath	%{_topdir}/tmp
==== end of ~/.rpmmacros =====

- install original distro kernel rpm:
$ rpm -ivh kernel-<version>.src.rpm

2. Prepare the .spec file:
Use appropriate patch from rpm directory (in the root of lisa tree) and
patch the original spec file (should be in ~/rpmb/kernel-<version>/SPECS).

3. Create and copy lisa patch:
- run mkpatch.sh from root of lisa tree
- move linux-2.6-lisa.patch from linux-2.6 directory to kernel sources
  directory (should be ~/rpmb/kernel-<version>/SOURCE)

4. Build the rpm packages:
- cwd to SPECS directory (should be ~/rpmb/kernel-<version>/SPECS)
- run rpmbuild: rpmbuild -ba --target i686 kernel.spec


Building Fedora *userspace* rpm packages
========================================

1. Prepare build directory structure:
- create appropriate directory in $HOME (e.g. ~/rpmb/lisa)
- cwd to that directory and run included mkrpmbtree.sh (root of lisa
  tree)
- locally configure rpm by editing ~/.rpmmacros and making it look like:

======== ~/.rpmmacros ========
%_topdir	/home/<user>/rpm/lisa
%_tmppath	%{_topdir}/tmp
==== end of ~/.rpmmacros =====

2. Build the rpm packages:
- cwd to root of lisa tree
- run "make rpm"
